{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let BooklistComponent = class BooklistComponent {\n  constructor(http, service, router) {\n    this.http = http;\n    this.service = service;\n    this.router = router;\n    this.form = {\n      list: [],\n      search: {\n        title: '',\n        author: ''\n      },\n      delete: {},\n      pageNo: 0,\n      message: '',\n      preload: []\n    };\n  }\n  ngOnInit() {\n    this.preload();\n    this.search();\n  }\n  previous() {\n    if (this.form.pageNo > 0) {\n      this.form.pageNo--;\n      this.search();\n    }\n  }\n  next() {\n    this.form.pageNo++;\n    this.search();\n  }\n  search() {\n    this.service.search(this.form.search, this.form.pageNo).subscribe(res => {\n      this.form.list = res.result.data;\n      this.form.message = res.result.message;\n    });\n  }\n  // search() {\n  //   this.http.post('http://localhost:8081/Book/search/' + this.form.pageNo, this.form.search)\n  //     .subscribe((res: any) => {\n  //       if (res.result?.message) {\n  //         this.form.message = res.result.message;\n  //       } else {\n  //         this.form.message = '';\n  //       }\n  //       this.form.list = res.data || [];\n  //     });\n  // }\n  edit(id) {\n    this.router.navigateByUrl('/book/' + id);\n  }\n  onCheckboxChange(id) {\n    this.form.delete.id = id;\n  }\n  delete() {\n    this.http.get('http://localhost:8081/Book/delete/' + this.form.delete.id).subscribe(res => {\n      this.form.message = res.result?.message || 'Deleted successfully';\n      this.search();\n    });\n  }\n  preload() {\n    this.http.post('http://localhost:8081/Book/preload', this.form.search).subscribe(res => {\n      this.form.preload = res.result?.rolelist || [];\n      this.form.list = res.result?.data || [];\n    });\n  }\n};\nBooklistComponent = __decorate([Component({\n  selector: 'app-booklist',\n  templateUrl: './booklist.component.html',\n  styleUrls: ['./booklist.component.css']\n})], BooklistComponent);","map":{"version":3,"names":["Component","BooklistComponent","constructor","http","service","router","form","list","search","title","author","delete","pageNo","message","preload","ngOnInit","previous","next","subscribe","res","result","data","edit","id","navigateByUrl","onCheckboxChange","get","post","rolelist","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\WorkSpace\\Project_Book\\Project_BookUI\\src\\app\\booklist\\booklist.component.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookService } from '../book.service.service';\n\n\n@Component({\n  selector: 'app-booklist',\n  templateUrl: './booklist.component.html',\n  styleUrls: ['./booklist.component.css']\n})\nexport class BooklistComponent {\n\n  form: any = {\n  list: [],\n  search: {\n    title: '',\n    author: ''\n  },\n  delete: {},\n  pageNo: 0,\n  message: '',\n  preload: []\n}\n\n  constructor(private http: HttpClient,private service: BookService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.preload();\n    this.search();\n  }\n\n  previous() {\n    if (this.form.pageNo > 0) {\n      this.form.pageNo--;\n      this.search();\n    }\n  }\n\n  next() {\n    this.form.pageNo++;\n    this.search();\n  }\n\n  search() {\n  this.service.search(this.form.search, this.form.pageNo).subscribe((res: any) => {\n    this.form.list = res.result.data;\n    this.form.message = res.result.message;\n  });\n}\n\n  // search() {\n  //   this.http.post('http://localhost:8081/Book/search/' + this.form.pageNo, this.form.search)\n  //     .subscribe((res: any) => {\n  //       if (res.result?.message) {\n  //         this.form.message = res.result.message;\n  //       } else {\n  //         this.form.message = '';\n  //       }\n  //       this.form.list = res.data || [];\n  //     });\n  // }\n\n  edit(id: number) {\n    this.router.navigateByUrl('/book/' + id);\n  }\n\n  onCheckboxChange(id: number) {\n    this.form.delete.id = id;\n  }\n\n  delete() {\n    this.http.get('http://localhost:8081/Book/delete/' + this.form.delete.id).subscribe((res: any) => {\n      this.form.message = res.result?.message || 'Deleted successfully';\n      this.search();\n    });\n  }\n\n  preload() {\n    this.http.post('http://localhost:8081/Book/preload', this.form.search).subscribe((res: any) => {\n      this.form.preload = res.result?.rolelist || [];\n      this.form.list = res.result?.data || [];\n    });\n  }\n}\n"],"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAc5BC,YAAoBC,IAAgB,EAASC,OAAoB,EAAUC,MAAc;IAArE,KAAAF,IAAI,GAAJA,IAAI;IAAqB,KAAAC,OAAO,GAAPA,OAAO;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAZjF,KAAAC,IAAI,GAAQ;MACZC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,MAAM,EAAE;OACT;MACDC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE,CAAC;MACTC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE;KACV;EAE8F;EAE7FC,QAAQA,CAAA;IACN,IAAI,CAACD,OAAO,EAAE;IACd,IAAI,CAACN,MAAM,EAAE;EACf;EAEAQ,QAAQA,CAAA;IACN,IAAI,IAAI,CAACV,IAAI,CAACM,MAAM,GAAG,CAAC,EAAE;MACxB,IAAI,CAACN,IAAI,CAACM,MAAM,EAAE;MAClB,IAAI,CAACJ,MAAM,EAAE;;EAEjB;EAEAS,IAAIA,CAAA;IACF,IAAI,CAACX,IAAI,CAACM,MAAM,EAAE;IAClB,IAAI,CAACJ,MAAM,EAAE;EACf;EAEAA,MAAMA,CAAA;IACN,IAAI,CAACJ,OAAO,CAACI,MAAM,CAAC,IAAI,CAACF,IAAI,CAACE,MAAM,EAAE,IAAI,CAACF,IAAI,CAACM,MAAM,CAAC,CAACM,SAAS,CAAEC,GAAQ,IAAI;MAC7E,IAAI,CAACb,IAAI,CAACC,IAAI,GAAGY,GAAG,CAACC,MAAM,CAACC,IAAI;MAChC,IAAI,CAACf,IAAI,CAACO,OAAO,GAAGM,GAAG,CAACC,MAAM,CAACP,OAAO;IACxC,CAAC,CAAC;EACJ;EAEE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAS,IAAIA,CAACC,EAAU;IACb,IAAI,CAAClB,MAAM,CAACmB,aAAa,CAAC,QAAQ,GAAGD,EAAE,CAAC;EAC1C;EAEAE,gBAAgBA,CAACF,EAAU;IACzB,IAAI,CAACjB,IAAI,CAACK,MAAM,CAACY,EAAE,GAAGA,EAAE;EAC1B;EAEAZ,MAAMA,CAAA;IACJ,IAAI,CAACR,IAAI,CAACuB,GAAG,CAAC,oCAAoC,GAAG,IAAI,CAACpB,IAAI,CAACK,MAAM,CAACY,EAAE,CAAC,CAACL,SAAS,CAAEC,GAAQ,IAAI;MAC/F,IAAI,CAACb,IAAI,CAACO,OAAO,GAAGM,GAAG,CAACC,MAAM,EAAEP,OAAO,IAAI,sBAAsB;MACjE,IAAI,CAACL,MAAM,EAAE;IACf,CAAC,CAAC;EACJ;EAEAM,OAAOA,CAAA;IACL,IAAI,CAACX,IAAI,CAACwB,IAAI,CAAC,oCAAoC,EAAE,IAAI,CAACrB,IAAI,CAACE,MAAM,CAAC,CAACU,SAAS,CAAEC,GAAQ,IAAI;MAC5F,IAAI,CAACb,IAAI,CAACQ,OAAO,GAAGK,GAAG,CAACC,MAAM,EAAEQ,QAAQ,IAAI,EAAE;MAC9C,IAAI,CAACtB,IAAI,CAACC,IAAI,GAAGY,GAAG,CAACC,MAAM,EAAEC,IAAI,IAAI,EAAE;IACzC,CAAC,CAAC;EACJ;CACD;AAzEYpB,iBAAiB,GAAA4B,UAAA,EAL7B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW/B,iBAAiB,CAyE7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}